{% extends 'layout/base.html' %}
{% load static %}

{% block title %}회원가입 | 떠나봄{% endblock title %}

{% block extra_head %}
    <link rel="stylesheet" href = "{% static 'css/signup.css' %}">
{% endblock extra_head%}

{% block content %}
<div class="signup-box">
    <form id='signup-form' method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}
        {% comment %} <h2>회원가입</h2> {% endcomment %}

        <div class="form-group">
            <label for="id_email">이메일</label>
            <div class="input-content-group"><div class="input-row">
                    {{ form.email }}
                    <button type='button' id='check-email-btn' class="small-btn">중복 확인</button>
                    <button type='button' id='send-code-btn' class="small-btn" style="display:none;">인증코드 발급</button>
                </div>
                <span id="email-message" class="guide-text">이메일을 입력하세요.</span>
            </div>
        </div>

        {% comment %} 이메일 인증코드 입력칸 {% endcomment %}
        <div class="form-group" id="verify-section" style="display:none;">
        <label for="verification_code">인증코드 입력</label>
            <div class="input-content-group">
                <div class="input-row">
                    <input type="text" id="verification_code" name="verification_code" placeholder="인증코드 6자리 입력" class="form-control small-input">
                    <span id="timer" class="guide-text"></span>
                    <button type="button" id="verify-code-btn" class="small-btn">인증 확인</button>
                </div>
            <span id="verify-message" class="guide-text"></span>
            
            </div>
        </div>
        <div class="form-group">
            <label for="id_password1">비밀번호 입력</label>
            <div class="input-content-group">
                <div class="input-row">{{ form.password1 }}</div> <span id="pw1-message" class="guide-text">4~15자 사이의 영어 대/소문자, 숫자를 사용하세요.</span>
            </div>
        </div>

        <div class="form-group">
            <label for="id_password2">비밀번호 확인</label>
            <div class="input-content-group">
                <div class="input-row">{{ form.password2 }}</div> <span id="pw2-message" class="guide-text"></span>
            </div>
        </div>

        <div class="form-group">
            <label for="id_nickname">닉네임</label>
            <div class="input-content-group">
                <div class="input-row">{{ form.nickname }}</div>
                <span id="nickname-message" class="guide-text">2~10자 사이의 한국어, 영어만 사용 가능합니다.</span>
            </div>
        </div>

        {{ form.username }}

        <div class = "button-group">
            <button type="submit" class="signup-btn">회원가입</button>
        </div>
        {% for error in form.non_field_errors %}
            <span id="form-error" class="error-text">{{ error }}</span>
        {% endfor %}
        <span id = "js-form-error" class="error-text"></span>
    </form>
</div>
  <script src="{% static 'js/signup.js' %}"></script>
{% endblock content %}
